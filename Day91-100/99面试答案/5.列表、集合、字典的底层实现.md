在 Python 中，**列表**、**集合** 和 **字典** 是常用的内置数据结构。它们的底层实现各有特点，分别针对不同的使用场景进行了优化。以下是它们的底层实现细节：

---

### **1. 列表 (List)**

#### **底层实现**
- Python 的列表底层是一个动态数组。
- 每个元素在内存中是连续存储的，并通过索引快速访问。
- 列表的扩展是通过重新分配内存实现的：当空间不足时，系统会为列表分配更大的内存块，并将原有元素复制到新内存中。

#### **特点**
1. **顺序存储**：
   - 列表的每个元素在内存中占用连续的存储空间。
2. **支持随机访问**：
   - 通过索引访问元素的时间复杂度为 \(O(1)\)。
3. **动态扩展**：
   - 当空间不足时，Python 会为列表分配更大的存储空间，通常是原大小的 1.125 倍。

#### **操作效率**
- **访问元素**：\(O(1)\)。
- **在末尾追加元素**：均摊 \(O(1)\)。
- **在中间插入/删除元素**：\(O(n)\)，需要移动其他元素。

#### **示例**
```python
lst = [1, 2, 3]
lst.append(4)  # 动态扩展数组
lst[0]          # O(1) 索引访问
```

---

### **2. 集合 (Set)**

#### **底层实现**
- Python 的集合底层基于 **哈希表**。
- 集合中的每个元素通过哈希函数映射到一个特定的位置，因此：
  - **插入**、**删除**、**查找**操作的时间复杂度为 \(O(1)\)。
  - 元素必须是 **可哈希的**（即具有固定的哈希值，且不可变，例如整数、字符串、元组）。

#### **特点**
1. **无序性**：
   - 集合中的元素没有顺序，存储的位置由哈希函数决定。
2. **唯一性**：
   - 集合自动确保元素唯一性，通过哈希表检测重复元素。
3. **哈希冲突**：
   - 如果两个元素的哈希值相同，会通过链表或其他方式处理冲突。

#### **操作效率**
- **插入/删除元素**：\(O(1)\)。
- **检查元素是否存在**：\(O(1)\)。
- **遍历**：\(O(n)\)。

#### **示例**
```python
s = {1, 2, 3}
s.add(4)    # O(1)
print(1 in s)  # O(1)
```

---

### **3. 字典 (Dictionary)**

#### **底层实现**
- 字典的底层也是基于 **哈希表**。
- 每个键值对存储为 `(key, value)` 对，其中键必须是 **可哈希的**。

#### **特点**
1. **无序性（Python 3.6 之前）**：
   - 键值对存储位置由键的哈希值决定，因此无序。
2. **插入顺序（Python 3.7+）**：
   - 字典默认按照插入顺序存储键值对。
3. **哈希表结构**：
   - 每个键通过哈希函数映射到一个存储槽（bucket），并存储对应的值。
   - 处理哈希冲突的方式与集合类似（链表或开放寻址法）。

#### **操作效率**
- **查找/插入/删除键值对**：\(O(1)\)。
- **遍历所有键值对**：\(O(n)\)。

#### **优化措施**
- Python 使用了动态扩展和稀疏存储（加载因子）来提升效率：
  - 字典会根据元素数量动态扩展。
  - 如果哈希表的槽位使用率超过一定阈值（如 2/3），会重新分配更大的存储空间，并重新计算键的哈希值。

#### **示例**
```python
d = {'a': 1, 'b': 2}
d['c'] = 3   # 插入键值对 O(1)
print(d['a'])  # 查找键 O(1)
```

---

### **三者对比**

| 特性            | **列表 (List)**            | **集合 (Set)**              | **字典 (Dictionary)**         |
|-----------------|---------------------------|-----------------------------|-------------------------------|
| **底层结构**     | 动态数组                  | 哈希表                      | 哈希表                       |
| **存储类型**     | 任意对象                  | 哈希值对象（唯一）          | 键值对 (key-value)           |
| **顺序性**       | 有序                     | 无序                        | 插入顺序（Python 3.7+）       |
| **访问时间复杂度**| \(O(1)\)（通过索引）     | \(O(1)\)（通过哈希值）       | \(O(1)\)（通过键）            |
| **重复元素**     | 允许                     | 不允许                      | 键唯一                       |
| **主要用途**     | 有序存储、随机访问        | 唯一值集合、快速查找        | 键值对存储、快速查找         |

---

### **示例代码：三者应用**

```python
# 列表：有序存储
lst = [1, 2, 3, 4]
lst.append(5)  # 末尾添加元素
print(lst[2])  # 随机访问，结果：3

# 集合：快速去重与查找
s = {1, 2, 3}
s.add(4)  # 插入新元素
print(1 in s)  # 快速查找，结果：True

# 字典：键值对存储与查找
d = {'name': 'Alice', 'age': 30}
d['city'] = 'New York'  # 插入键值对
print(d['name'])  # 查找键对应的值，结果：Alice
```

需要更详细的代码或应用场景分析吗？